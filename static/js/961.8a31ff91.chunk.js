"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[961],{3030:function(e,n,r){r.d(n,{HI:function(){return c},JZ:function(){return s},Ou:function(){return d},XT:function(){return a},Zj:function(){return h},fd:function(){return p},kH:function(){return f},pp:function(){return m},tL:function(){return v},tx:function(){return l},vB:function(){return u}});var t=r(4165),o=r(5861),i=r(885),a=function(){return fetch("https://api.themoviedb.org/3/discover/movie?api_key=".concat("4b4c7b41d66edcc159625789a346239e","&language=en-US&include_adult=false&include_video=false&page=1")).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e}))},c=function(e){var n=(0,i.Z)(e.queryKey,2)[1].id;return fetch("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=").concat("4b4c7b41d66edcc159625789a346239e")).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e}))},s=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=4b4c7b41d66edcc159625789a346239e&language=en-US").then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(e){var n=e.queryKey,r=(0,i.Z)(n,2)[1].id;return fetch("https://api.themoviedb.org/3/movie/".concat(r,"/images?api_key=").concat("4b4c7b41d66edcc159625789a346239e")).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e}))},l=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat("4b4c7b41d66edcc159625789a346239e")).then((function(e){return e.json()})).then((function(e){return e.results}))},d=function(e){var n=e.queryKey,r=(0,i.Z)(n,2)[1].id;return fetch("https://api.themoviedb.org/3/movie/upcoming?api_key=".concat("4b4c7b41d66edcc159625789a346239e","&language=en-US&include_adult=false&include_video=false&page=").concat(r)).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e}))},h=function(e){var n=e.queryKey,r=(0,i.Z)(n,2)[1].id;return fetch("https://api.themoviedb.org/3/person/popular?api_key=".concat("4b4c7b41d66edcc159625789a346239e","&language=en-US&page=").concat(r)).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e}))},f=function(e){var n=(0,i.Z)(e.queryKey,2)[1].id;return fetch("https://api.themoviedb.org/3/person/".concat(n,"?api_key=").concat("4b4c7b41d66edcc159625789a346239e","&language=en-US")).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e}))},v=function(e){var n=e.queryKey,r=(0,i.Z)(n,2)[1].id;return fetch("https://api.themoviedb.org/3/person/".concat(r,"/images?api_key=").concat("4b4c7b41d66edcc159625789a346239e")).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e}))},m=function(e){var n=e.queryKey,r=(0,i.Z)(n,2)[1].id;return fetch("https://api.themoviedb.org/3/movie/top_rated?api_key=".concat("4b4c7b41d66edcc159625789a346239e","&language=en-US&page=").concat(r)).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e}))},p=function(e){var n=e.queryKey,r=(0,i.Z)(n,2)[1].id;return fetch("https://api.themoviedb.org/3/discover/movie?api_key=".concat("4b4c7b41d66edcc159625789a346239e","&language=en-US&include_adult=false&include_video=false&page=").concat(r)).then((function(e){if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((function(e){throw e}))}},9515:function(e,n,r){r.d(n,{Z:function(){return i}});r(2791);var t=r(6580),o=r(184);function i(){return(0,o.jsxs)("div",{sx:{display:"flex",justifyContent:"center","& > * + *":{marginLeft:"2em"}},children:[(0,o.jsx)(t.Z,{}),(0,o.jsx)(t.Z,{})]})}},3755:function(e,n,r){r.d(n,{Z:function(){return j}});var t=r(6152),o=(r(2791),r(7394)),i=r(8264),a=r(6650),c=r(3811),s=r(4565),u=r(7541),l=r(7689),d=r(184),h=function(e){var n=e.movie,r=(0,l.s0)();return(0,d.jsxs)(a.Z,{component:"div",sx:{display:"flex",justifyContent:"space-around",flexWrap:"wrap",padding:1.5,margin:0},children:[(0,d.jsx)(c.Z,{"aria-label":"go back",onClick:function(){return r(-1)},children:(0,d.jsx)(o.Z,{color:"primary",fontSize:"large"})}),(0,d.jsxs)(s.Z,{variant:"h4",component:"h3",children:[n.title,(0,d.jsx)("a",{href:n.homepage,children:(0,d.jsx)(u.Z,{color:"primary"})}),(0,d.jsx)("br",{}),(0,d.jsxs)("span",{sx:{fontSize:"1.5rem"},children:['   "'.concat(n.tagline,'"')," "]})]}),(0,d.jsx)(c.Z,{"aria-label":"go forward",onClick:function(){return r(1)},children:(0,d.jsx)(i.Z,{color:"primary",fontSize:"large"})})]})},f=r(5953),v=r(5189),m=r(3030),p=r(1933),g=r(9515),x=r(5717),j=(r(9584),r(1562),r(7434),function(e){var n=e.movie,r=e.children,o=(0,p.useQuery)(["images",{id:n.id}],m.vB),i=o.data,a=o.error,c=o.isLoading,s=o.isError;if(c)return(0,d.jsx)(g.Z,{});if(s)return(0,d.jsx)("h1",{children:a.message});var u=i.posters,l=[];if(u.length>3)for(var j=0;j<3;j++)l.push(u[j]);else l=u;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h,{movie:n}),(0,d.jsxs)(f.ZP,{container:!0,spacing:5,sx:{padding:"15px"},children:[(0,d.jsx)(f.ZP,{item:!0,xs:3,children:(0,d.jsx)("div",{sx:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:(0,d.jsx)(x.Z,(0,t.Z)((0,t.Z)({},{dots:!0,dotsClass:"slick-dots1",infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:l.map((function(e){return(0,d.jsx)(v.Z,{cols:1,children:(0,d.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.file_path),alt:e.poster_path})},e.file_path)}))}))})}),(0,d.jsx)(f.ZP,{item:!0,xs:9,children:r})]})]})})},6669:function(e,n,r){r.r(n),r.d(n,{default:function(){return y}});var t=r(2791),o=r(3755),i=r(885),a=r(7205),c=r(5017),s=r(9407),u=r(4565),l=r(6015),d=r(3896),h=r(1413),f=r(1647),v=r(1508),m=r(7689),p=r(184),g=[{value:5,label:"Excellent"},{value:4,label:"Good"},{value:3,label:"Average"},{value:2,label:"Poor"},{value:0,label:"Terrible"}],x={root:{marginTop:2,display:"flex",flexDirection:"column",alignItems:"left"},form:{width:"100%","& > * ":{marginTop:2}},textField:{width:"40ch"},submit:{marginRight:2},snack:{width:"50%","& > * ":{width:"100%"}}},j=function(e){var n=e.movie,r=(0,t.useContext)(h.m),o=(0,t.useState)(3),j=(0,i.Z)(o,2),b=j[0],w=j[1],Z=(0,t.useState)(!1),y=(0,i.Z)(Z,2),k=y[0],_=y[1],S=(0,m.s0)(),C=(0,d.cI)({author:"",review:"",agree:!1,rating:"3"}),q=C.control,E=C.formState.errors,T=C.handleSubmit,K=C.reset,R=function(e){w(e.target.value)},U=function(e){_(!1),S("/movies/favorites")};return(0,p.jsxs)(l.Z,{component:"div",sx:x.root,children:[(0,p.jsx)(u.Z,{component:"h2",variant:"h3",children:"Write a review"}),(0,p.jsx)(f.Z,{sx:x.snack,anchorOrigin:{vertical:"top",horizontal:"right"},open:k,onClose:U,children:(0,p.jsx)(v.Z,{severity:"success",variant:"filled",onClose:U,children:(0,p.jsx)(u.Z,{variant:"h4",children:"Thank you for submitting a review"})})}),(0,p.jsxs)("form",{sx:x.form,onSubmit:T((function(e){e.movieId=n.id,e.rating=b,r.addReview(n,e),_(!0)})),noValidate:!0,children:[(0,p.jsx)(d.Qr,{name:"author",control:q,rules:{required:"Name is required"},defaultValue:"",render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,p.jsx)(c.Z,{sx:{width:"40ch"},variant:"outlined",margin:"normal",required:!0,onChange:r,value:t,id:"author",label:"Author's name",name:"author",autoFocus:!0})}}),E.author&&(0,p.jsx)(u.Z,{variant:"h6",component:"p",children:E.author.message}),(0,p.jsx)(d.Qr,{name:"review",control:q,rules:{required:"Review cannot be empty.",minLength:{value:10,message:"Review is too short"}},defaultValue:"",render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,p.jsx)(c.Z,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"review",value:t,onChange:r,label:"Review text",id:"review",multiline:!0,minRows:10})}}),E.review&&(0,p.jsx)(u.Z,{variant:"h6",component:"p",children:E.review.message}),(0,p.jsx)(d.Qr,{control:q,name:"rating",render:function(e){var n=e.field;n.onChange,n.value;return(0,p.jsx)(c.Z,{id:"select-rating",select:!0,variant:"outlined",label:"Rating Select",value:b,onChange:R,helperText:"Don't forget your rating",children:g.map((function(e){return(0,p.jsx)(s.Z,{value:e.value,children:e.label},e.value)}))})}}),(0,p.jsxs)(l.Z,{sx:x.buttons,children:[(0,p.jsx)(a.Z,{type:"submit",variant:"contained",color:"primary",sx:x.submit,children:"Submit"}),(0,p.jsx)(a.Z,{type:"reset",variant:"contained",color:"secondary",sx:x.submit,onClick:function(){K({author:"",content:""})},children:"Reset"})]})]})]})},b=r(1933),w=r(3030),Z=r(9515),y=function(e){var n=(0,m.TH)().state.movieId,r=(0,b.useQuery)(["movie",{id:n}],w.HI),t=r.data,i=r.error,a=r.isLoading,c=r.isError;return a?(0,p.jsx)(Z.Z,{}):c?(0,p.jsx)("h1",{children:i.message}):(0,p.jsx)(o.Z,{movie:t,children:(0,p.jsx)(j,{movie:t})})}},7434:function(){}}]);
//# sourceMappingURL=961.8a31ff91.chunk.js.map