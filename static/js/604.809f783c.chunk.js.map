{"version":3,"file":"static/js/604.809f783c.chunk.js","mappings":"yJAoBA,IAf2B,SAAH,GAAmB,IAAbA,EAAK,EAALA,MACtBC,GAAUC,EAAAA,EAAAA,YAAWC,EAAAA,GAO3B,OACE,SAAC,IAAU,CAAC,aAAW,mBAAmBC,QANf,SAACC,GAC5BA,EAAEC,iBACFL,EAAQM,eAAeP,EACzB,EAG0E,UACtE,SAAC,IAAY,CAACQ,MAAM,UAAUC,SAAS,WAG7C,C,uJCsCA,UA5CqB,SAACC,GAEpB,IAAQC,GAASC,EAAAA,EAAAA,MAATD,KACR,GAAmDE,EAAAA,EAAAA,UACjD,CAAC,UAAW,CAAEC,GAAIH,IAClBI,EAAAA,IAFYC,EAAK,EAAXC,KAAaC,EAAK,EAALA,MAAOC,EAAS,EAATA,UAAWC,EAAO,EAAPA,QAIvC,GAAID,EACF,OAAO,SAAC,IAAO,IAGjB,GAAIC,EACF,OAAO,wBAAKF,EAAMG,UAEpB,IAAMC,EAASN,EAAMO,QAEfC,EAAYF,EAAOG,QAAO,SAAAC,GAAC,OAAIA,EAAEC,QAAQ,IAI/C,OAHAC,aAAaC,QAAQ,YAAaC,KAAKC,UAAUP,KAI/C,iCACA,SAAC,IAAY,CACXQ,MAAM,mBACNV,OAAQA,EACRW,OAAQ,SAACjC,GACP,OAAO,SAAC,IAAkB,CAACA,MAAOA,GACpC,KAEF,SAAC,IAAU,CACTkC,GAAI,CAAEC,QAAS,OAAQC,eAAgB,UACvCzB,KAAMA,EACN0B,MAAO,GACPC,WAAY,SAACZ,GAAC,OACZ,SAAC,KAAc,QACba,UAAWC,EAAAA,GACXC,GAAE,WAAiB,IAAXf,EAAEf,KAAa,GAAE,qBAAiB+B,OAAOhB,EAAEf,SAC/Ce,GACJ,MAKV,C","sources":["components/cardIcons/addToFavorites.js","pages/topRatedMoviesPage.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { MoviesContext } from \"../../contexts/moviesContext\";\nimport IconButton from \"@mui/material/IconButton\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\n\nconst AddToFavoritesIcon = ({ movie }) => {\n  const context = useContext(MoviesContext);\n\n  const handleAddToFavorites = (e) => {\n    e.preventDefault();\n    context.addToFavorites(movie);\n  };\n;\n  return (\n    <IconButton aria-label=\"add to favorites\" onClick={handleAddToFavorites}>\n      <FavoriteIcon color=\"primary\" fontSize=\"large\" />\n    </IconButton>\n  );\n};\n\nexport default AddToFavoritesIcon;","import React from \"react\";\r\nimport { getTopRatedMovies } from \"../api/tmdb-api\";\r\nimport PageTemplate from '../components/templateMovieListPage';\r\nimport { useQuery } from 'react-query';\r\nimport Spinner from '../components/spinner';\r\nimport AddToFavoritesIcon from '../components/cardIcons/addToFavorites'\r\nimport { useParams } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from '@mui/material/Pagination';\r\nimport PaginationItem from '@mui/material/PaginationItem';\r\n\r\n\r\nconst TopRatedPage = (props) => {\r\n\r\n  const { page } = useParams();\r\n  const { data: pages, error, isLoading, isError } = useQuery(\r\n    [\"topRted\", { id: page }],\r\n    getTopRatedMovies\r\n  );\r\n  if (isLoading) {\r\n    return <Spinner />\r\n  }\r\n\r\n  if (isError) {\r\n    return <h1>{error.message}</h1>\r\n  }  \r\n  const movies = pages.results;\r\n\r\n  const favorites = movies.filter(m => m.favorite)\r\n  localStorage.setItem('favorites', JSON.stringify(favorites))\r\n\r\n\r\n  return (\r\n    <>\r\n    <PageTemplate\r\n      title=\"Top Rated Movies\"\r\n      movies={movies}\r\n      action={(movie) => {\r\n        return <AddToFavoritesIcon movie={movie} />\r\n      }}\r\n    />\r\n    <Pagination\r\n      sx={{ display: 'flex', justifyContent: 'center'}}\r\n      page={page}\r\n      count={15}\r\n      renderItem={(m) => (\r\n        <PaginationItem\r\n          component={Link}\r\n          to={`/${m.page === 1 ? '' : `moviespage/${Number(m.page)}`}`}\r\n          {...m}\r\n        />\r\n      )}\r\n    />\r\n    </>\r\n  );\r\n};\r\nexport default TopRatedPage;"],"names":["movie","context","useContext","MoviesContext","onClick","e","preventDefault","addToFavorites","color","fontSize","props","page","useParams","useQuery","id","getTopRatedMovies","pages","data","error","isLoading","isError","message","movies","results","favorites","filter","m","favorite","localStorage","setItem","JSON","stringify","title","action","sx","display","justifyContent","count","renderItem","component","Link","to","Number"],"sourceRoot":""}